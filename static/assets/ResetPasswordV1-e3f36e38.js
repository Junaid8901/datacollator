import{r as o,F as s,P as r,B as x,a5 as F,Y as S,a6 as y,a7 as k,ai as B,aj as L}from"./index-52a95e7f.js";import{L as m,l as O,F as c,I as R,c as T,C as E}from"./App-a255ea7a.js";import{I as u}from"./index-2428db70.js";import{C as I,a as j}from"./CardBody-2b451391.js";import{C as D}from"./CardText-2604ea3e.js";import{C as z}from"./CardTitle-f2916fda.js";import{F as Y}from"./Form-f455f818.js";import{F as q}from"./FormFeedback-32f35877.js";import{L as d}from"./Label-e92a3cb1.js";/* empty css                  */const W=()=>{const[h,f]=o.useState(""),[w,g]=o.useState(""),[p,l]=o.useState(!1),[n,t]=o.useState([]),[C,N]=o.useState([]),b=()=>{l(!0);const e={otp:h,password:w};S.post(`${y}/api/reset/password/complete/`,e,k).then(a=>{console.log("response from server",a),l(!1),B.success(s(L,{title:"Password Reset SuccessFully",color:"success",icon:s(E,{})}),{autoClose:2e3,hideProgressBar:!0,closeButton:!1}),setTimeout(()=>{},1e3)}).catch(a=>{console.log("err",a.response),l(!1),a.response.data.otp?t(i=>i.concat("otp")):a.response.data.password&&(N(a.response.data.password),t(i=>i.concat("password")))})},v=e=>{console.log("Otp "),t([]),f(e.target.value)},P=e=>{t([]),g(e.target.value)};return s("div",{className:"auth-wrapper auth-v1 px-2",children:s("div",{className:"auth-inner py-2",children:s(I,{className:"mb-0",children:r(j,{children:[r(m,{className:"brand-logo d-flex align-items-center ",to:"/",onClick:e=>e.preventDefault(),children:[s("img",{src:O,alt:"",width:"30"}),s("h2",{className:"brand-text text-primary m-0 ml-1",children:"Data Collator"})]}),s(z,{tag:"h4",className:"mb-1",children:"Reset Password ðŸ”’"}),s(D,{className:"mb-2",children:"Your new password must be different from previously used passwords"}),r(Y,{className:"auth-reset-password-form mt-2",onSubmit:e=>e.preventDefault(),children:[r(c,{children:[s(d,{className:"form-label",for:"otp",children:"Otp"}),s(R,{type:"number",onChange:v,id:"otp",placeholder:"Enter Otp",autoFocus:!0,invalid:n.includes("otp")})]}),r(c,{children:[s(d,{className:"form-label",for:"password",children:"New Password"}),s(u,{onChange:P,className:"input-group-merge",id:"password",invalid:n.includes("password")}),C.map((e,a)=>s(q,{children:e},a))]}),r(c,{children:[s(d,{className:"form-label",for:"confirm-password",children:"Confirm Password"}),s(u,{className:"input-group-merge",id:"confirm-password",invalid:n.includes("password")})]}),r(x.Ripple,{disabled:p,onClick:()=>b(),type:"button",color:"primary",block:!0,children:["Set New Password Â "," ",p&&s(F,{size:"sm",color:"light"})]})]}),s("p",{className:"text-center mt-2",children:r(m,{to:"/login",children:[s(T,{className:"mr-25",size:14}),s("span",{className:"align-middle",children:"Back to login "})]})})]})})})})};export{W as default};
