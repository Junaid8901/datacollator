import{r as o,K as s,J as r,B as x,a0 as F,U as S,a1 as y,a2 as k,ab as B}from"./index-67acb5a9.js";import{L as p,l as L,F as c,c as T,C as O}from"./App-ce653d86.js";import{I as u}from"./index-82b417f3.js";import{C as R}from"./Card-4fea091a.js";import{C as E}from"./CardBody-73830640.js";import{C as I}from"./CardText-a3817d79.js";import{C as D}from"./CardTitle-5ac35081.js";import{F as j}from"./Form-f3b7866a.js";import{F as z}from"./FormFeedback-1dce4f72.js";import{I as U}from"./Input-55b2ccf9.js";import{L as d}from"./Label-f521c803.js";/* empty css                  */import{T as q}from"./ToastComponent-252645f5.js";const _=()=>{const[h,f]=o.useState(""),[w,g]=o.useState(""),[m,l]=o.useState(!1),[n,t]=o.useState([]),[C,b]=o.useState([]),N=()=>{l(!0);const e={otp:h,password:w};S.post(`${y}/api/reset/password/complete/`,e,k).then(a=>{console.log("response from server",a),l(!1),B.success(s(q,{title:"Password Reset SuccessFully",color:"success",icon:s(O,{})}),{autoClose:2e3,hideProgressBar:!0,closeButton:!1}),setTimeout(()=>{},1e3)}).catch(a=>{console.log("err",a.response),l(!1),a.response.data.otp?t(i=>i.concat("otp")):a.response.data.password&&(b(a.response.data.password),t(i=>i.concat("password")))})},v=e=>{console.log("Otp "),t([]),f(e.target.value)},P=e=>{t([]),g(e.target.value)};return s("div",{className:"auth-wrapper auth-v1 px-2",children:s("div",{className:"auth-inner py-2",children:s(R,{className:"mb-0",children:r(E,{children:[r(p,{className:"brand-logo d-flex align-items-center ",to:"/",onClick:e=>e.preventDefault(),children:[s("img",{src:L,alt:"",width:"30"}),s("h2",{className:"brand-text text-primary m-0 ml-1",children:"Data Collator"})]}),s(D,{tag:"h4",className:"mb-1",children:"Reset Password ðŸ”’"}),s(I,{className:"mb-2",children:"Your new password must be different from previously used passwords"}),r(j,{className:"auth-reset-password-form mt-2",onSubmit:e=>e.preventDefault(),children:[r(c,{children:[s(d,{className:"form-label",for:"otp",children:"Otp"}),s(U,{type:"number",onChange:v,id:"otp",placeholder:"Enter Otp",autoFocus:!0,invalid:n.includes("otp")})]}),r(c,{children:[s(d,{className:"form-label",for:"password",children:"New Password"}),s(u,{onChange:P,className:"input-group-merge",id:"password",invalid:n.includes("password")}),C.map((e,a)=>s(z,{children:e},a))]}),r(c,{children:[s(d,{className:"form-label",for:"confirm-password",children:"Confirm Password"}),s(u,{className:"input-group-merge",id:"confirm-password",invalid:n.includes("password")})]}),r(x.Ripple,{disabled:m,onClick:()=>N(),type:"button",color:"primary",block:!0,children:["Set New Password Â "," ",m&&s(F,{size:"sm",color:"light"})]})]}),s("p",{className:"text-center mt-2",children:r(p,{to:"/login",children:[s(T,{className:"mr-25",size:14}),s("span",{className:"align-middle",children:"Back to login "})]})})]})})})})};export{_ as default};
