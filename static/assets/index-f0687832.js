import{a1 as B,aj as P,r as o,J as t,K as e,U as I,a5 as M,ah as j,ak as Q,a6 as W}from"./index-a78e1d6d.js";import{u as q,O as n,I as T,P as G,z as X,L as Y,Q as Z,n as U}from"./App-efc1b7be.js";import{R as E}from"./Row-7b588485.js";import{C as A}from"./Col-71b6a57a.js";import{A as ee}from"./Alert-123a8cd6.js";import{C as te}from"./Card-d18638bb.js";import{C as se}from"./CardBody-d3a746c0.js";import{C as a}from"./CardText-4bf4ec93.js";import{M as ae}from"./ModalForDelete-2d2637c0.js";import"./AdminButton-84e07a20.js";import{A as le}from"./AppSideModal-51cfaf1f.js";import{a as F}from"./ToastComponent-995c97dd.js";/* empty css                  */import{m as ie,u as re,a as ne}from"./index-d3b2d275.js";/* empty css                  */const H=`${B}/api/account/${P}/`,de=({selectedUser:s,handleBoolean2:f,memberArrange:k,handleSubmit:_,values:g,setValues:K,checkType:d,memberOfKey:w,userType:N,modal:l,setModal:m,processing:v,id:x,handleSelectReceiveOnly:S,handleSelectFundingSource:z,customer_id:L,handleSelectRenderFundingSource:y,getDealerMemberDetail:C})=>{const R=q(),[$,b]=o.useState(!1),[D,c]=o.useState(!1),O=()=>{c(!0),I.delete(`${H+d}/member/${x}/`,M).then(()=>{F("error",T,"Successfully deleted"),R.goBack()}).catch(()=>{b(!0),c(!0)})},p=()=>{C(!0)};return t(te,{children:[e(se,{children:e(E,{children:e(A,{xl:"12",lg:"12",className:"mt-2 mt-xl-0",children:t("div",{className:"user-info-wrapper",children:[t("div",{className:"d-flex flex-wrap align-items-center",children:[e("div",{className:"user-info-title",style:{width:"15%"},children:t(a,{tag:"span",className:"user-info-title font-weight-bold mb-0 ",children:[e(n,{size:15})," Cluster Id"]})}),e(a,{className:"mb-0",style:{width:"80%"},children:s.service_ruleset?s.cluster_id:"---"})]}),t("div",{className:"d-flex flex-wrap align-items-center",children:[e("div",{className:"user-info-title",style:{width:"15%"},children:t(a,{tag:"span",className:"user-info-title font-weight-bold mb-0 ",children:[e(n,{size:15})," Service Id"]})}),e(a,{className:"mb-0",style:{width:"80%"},children:s.service_id?s.service_id:"---"})]}),t("div",{className:"d-flex flex-wrap align-items-center",children:[e("div",{className:"user-info-title",style:{width:"15%"},children:t(a,{tag:"span",className:"user-info-title font-weight-bold mb-0 ",children:[e(n,{size:15})," Output Id"]})}),e(a,{className:"mb-0",style:{width:"80%"},children:N==="Content_By_Output"&&s.output_id?s.output_id:""})]}),t("div",{className:"d-flex flex-wrap align-items-center",children:[e("div",{className:"user-info-title",style:{width:"15%"},children:t(a,{tag:"span",className:"user-info-title font-weight-bold mb-0 ",children:[e(n,{size:15})," Pcd Refset Id"]})}),e(a,{className:"mb-0",style:{width:"80%"},children:s.pcd_refset_id?s.pcd_refset_id:"---"})]}),t("div",{className:"d-flex flex-wrap align-items-center my-50",children:[e("div",{className:"user-info-title",style:{width:"15%"},children:t(a,{tag:"span",className:"user-info-title font-weight-bold mb-0",children:[e(n,{size:15})," Ruleset Id"]})}),e(a,{className:"text-capitalize mb-0 ",style:{width:"80%"},children:s.ruleset_id?s.ruleset_id:"---"})]}),t("div",{className:"d-flex flex-wrap align-items-center my-50",children:[e("div",{className:"user-info-title",style:{width:"15%"},children:t(a,{tag:"span",className:"user-info-title font-weight-bold mb-0",children:[e(n,{size:15})," Snomed Code"]})}),e(a,{className:"text-capitalize mb-0",style:{width:"80%"},children:s.snomed_code?s.snomed_code:"---"})]}),t("div",{className:"d-flex flex-wrap align-items-center my-50",children:[t("div",{className:"user-info-title",style:{width:"15%"},children:[t(a,{tag:"span",className:"user-info-title font-weight-bold mb-0",children:[e(n,{size:15})," Db Type"]})," "]})," ",e(a,{className:"text-capitalize mb-0",style:{width:"80%"},children:s.db_type?s.db_type:"---"})]}),t("div",{className:"d-flex flex-wrap align-items-center my-50",children:[e("div",{className:"user-info-title",style:{width:"15%"},children:t(a,{tag:"span",className:"user-info-title font-weight-bold mb-0",children:[e(n,{size:15})," Service Ruleset"]})}),e(a,{className:" mb-0 ml-500",style:{width:"80%"},children:s.service_ruleset?s.service_ruleset:"---"})]}),t("div",{className:"d-flex flex-wrap align-items-center my-50",children:[e("div",{className:"user-info-title",style:{width:"15%"},children:t(a,{tag:"span",className:"user-info-title font-weight-bold mb-0",children:[e(n,{size:15})," Snomed Code Description"]})}),e(a,{className:"text-capitalize mb-0",style:{width:"80%"},children:s.snomed_code_description?s.snomed_code_description:"---"})]}),t("div",{className:"d-flex flex-wrap align-items-center my-50",children:[e("div",{className:"user-info-title",style:{width:"15%"},children:t(a,{tag:"span",className:"user-info-title font-weight-bold mb-0",children:[e(n,{size:15})," Output Description"]})}),e(a,{className:"text-capitalize mb-0",style:{width:"80%"},children:s.output_description?s.output_description:"---"})]}),t("div",{className:"d-flex flex-wrap align-items-center my-50",children:[e("div",{className:"user-info-title",style:{width:"15%"},children:t(a,{tag:"span",className:"user-info-title font-weight-bold mb-0",children:[e(n,{size:15})," Cluster Description"]})}),e(a,{className:"text-capitalize mb-0",style:{width:"80%"},children:s.cluster_description?s.cluster_description:"---"})]}),t("div",{className:"d-flex flex-wrap align-items-center my-50",children:[e("div",{className:"user-info-title",style:{width:"15%"},children:t(a,{tag:"span",className:"user-info-title font-weight-bold mb-0 ",children:[e(n,{size:15})," Type"]})}),e(a,{className:"mb-0  ",style:{width:"80%"},children:s.type?s.type:"---"})]})]})})})}),e(le,{open:l,handleModal:p,title:"member",updateAble:!0,handleSubmit:_,processing:v,handleResetInputValues:()=>null}),e(ae,{centeredModal:$,setCenteredModal:b,isLoading:D,onDelete:()=>O()})]})},Se=s=>{const{id:f,type:k}=G(),_=re(""),g=ie(""),K=ne(),d=X(K),[w,N]=o.useState(),[l,m]=o.useState(""),[v,x]=o.useState(""),[S,z]=o.useState(!1),[L,y]=o.useState(!1);o.useState([]);const[C,R]=o.useState(""),$=r=>{m({...l,businessName:r.businessName,customer_id:r.id})},b=(r,i)=>{console.log(r),m({...l,dwolla_customer_fs_id:r.customer_fs_id,dwolla_customer_id:r.customer_id})},D=(r,i)=>{m({...l,[i]:r[i]})},c=r=>{I.get(`${B}/api/pcdrefset/${f}/`,M).then(i=>{N(i.data),m({...i.data,dwolla_transfer_type:Z(i.data)}),r&&z(!S)}).catch(i=>{})},O=(r,i)=>{const u=["agency","agency_role","dealer","dealer_role","sales_representative_role","company_role","repair_facility","repair_facility_role"].filter(h=>!h.includes(r));console.log("newList",u);for(let h=0;h<u.length;h++)l[u[h]]&&delete i[u[h]];console.log("data",i)};console.log("`${memberArrange}_role`",`${d}_role`),O(d,l);const p={...l,[d]:j==="dealer"?Q:j==="sales_representative"?P:l[d]&&l[d].id,[`${d}_role`]:l[`${d}_role`]&&l[`${d}_role`].id,member_of:g,dwolla_customer_account:l.dwolla_customer_account?l.dwolla_customer_account.id:"",dwolla_funding_source:l.dwolla_funding_source?l.dwolla_funding_source.id:"",dwolla_transfer_type:l.dwolla_transfer_type?l.dwolla_transfer_type.value:"",sender_source_dwolla:l.sender_source_dwolla?l.sender_source_dwolla.id:""};W.is_super_admin||delete p.external_admin;const J=r=>{console.log("apidatat",p),y(!0),I.patch(`${H+_}/member/${f}/`,p,M).then(i=>{F("success",T,"Successfully updated"),c(i.data),y(!1)}).catch(i=>{if(y(!1),i.response&&i.response.status===400)for(const[V,u]of Object.entries(i.response.data))F("error",T,`${U(V)}: ${u}`)})};return o.useEffect(()=>{c()},[]),w!=null?e("div",{className:"app-user-view",children:t(E,{children:[e(A,{xl:"12",lg:"12",md:"12",children:e(de,{selectedUser:w,getData:c,dealerRole:v,setDealer:R,setDealerRole:x,dealer:C,memberArrange:d,handleSubmit:J,values:l,setValues:m,checkType:_,memberOf:g,memberOfKey:g,userType:k,modal:S,setModal:z,id:f,processing:L,handleSelectReceiveOnly:$,handleSelectFundingSource:b,customer_id:l.customer_id,handleSelectRenderFundingSource:D,getDealerMemberDetail:c})}),e(A,{xl:"12",lg:"8",md:"7"})]})}):t(ee,{color:"danger",children:[e("h4",{className:"alert-heading",children:"User not found"}),t("div",{className:"alert-body",children:["User with id: ",f," doesn't exist. Check list of all Users:"," ",e(Y,{to:"/apps/user/list",children:"Users List"})]})]})};export{Se as default};
