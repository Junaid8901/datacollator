import{r,a7 as v,G as x,J as s,K as e,c as S,B as y,a0 as k,U as I,a1 as T,a2 as F,ab as d}from"./index-a78e1d6d.js";import{a as L,u as P,F as u,L as p,C as B,I as D}from"./App-efc1b7be.js";import{u as R}from"./index.esm-e2bd722c.js";import{I as j}from"./index-2befab07.js";import{R as E}from"./Row-7b588485.js";import{C as l}from"./Col-71b6a57a.js";import{C as q}from"./CardText-4bf4ec93.js";import{C as A}from"./CardTitle-4fff166c.js";import{F as G}from"./Form-5abcf6ba.js";import{I as H}from"./Input-c0987a3f.js";import{L as g}from"./Label-04986467.js";import{l as J}from"./DataMedicBlack-91b0dd6e.js";import{T as h}from"./ToastComponent-995c97dd.js";/* empty css                  */const M="/static/assets/DataMedic-3f438d5c.png";function te(){L(),r.useContext(v),x(),P();const[i,f]=r.useState(""),[n,b]=r.useState(""),[m,t]=r.useState(!1),{register:c,errors:C}=R();return s("div",{className:"auth-wrapper auth-v2",children:[" ",s(E,{className:"auth-inner m-0",children:[" ",e(l,{className:"auth-bg1",lg:"8",sm:"12"})," ",e(l,{className:"d-flex align-items-center auth-bg px-2 p-lg-5",lg:"4",sm:"12",children:s(l,{className:"px-xl-2 mx-auto",sm:"8",md:"6",lg:"12",children:[e("img",{src:J,alt:"",width:"200"}),e(A,{tag:"h3",className:"font-weight-bold mb-1",children:"Welcome to Your Data Collator! ðŸ‘‹"}),e(q,{className:"mb-2",children:"Please sign-in to your account and start the adventure"}),s(G,{className:"auth-login-form mt-2",onSubmit:a=>{const w={email:i,password:n};a.preventDefault(),t(!0),I.post(`${T}/api/signin/`,w,F).then(o=>{t(!1);let N=o.data;localStorage.setItem("company",JSON.stringify(N)),localStorage.setItem("accessToken",o.data.access_token),localStorage.setItem("refreshToken",o.data.refresh_token),d.success(e(h,{title:"Successfully login",color:"success",icon:e(B,{})}),{autoClose:2e3,hideProgressBar:!0,closeButton:!1}),setTimeout(()=>{window.location.assign("/app/dashboard")},1e3)}).catch(o=>{t(!1),t(!1),d.error(e(h,{title:"Either provided credentials are not valid or user is unapproved",color:"danger",icon:e(D,{})}),{autoClose:2e3,hideProgressBar:!0,closeButton:!1})})},children:[s(u,{children:[e(g,{className:"form-label",for:"login-email",children:"Email"}),e(H,{autoFocus:!0,type:"email",value:i,id:"login-email",name:"login-email",placeholder:"john@example.com",onChange:a=>f(a.target.value),className:S({"is-invalid":C["login-email"]}),innerRef:c({required:!0,validate:a=>a!==""})})]}),s(u,{children:[s("div",{className:"d-flex justify-content-between",children:[e(g,{className:"form-label",for:"login-password",children:"Password"}),e(p,{to:"/forgot-password",children:e("small",{children:"Forgot Password?"})})]}),e(j,{value:n,id:"login-password",name:"login-password",className:"input-group-merge",onChange:a=>b(a.target.value),innerRef:c({required:!0,validate:a=>a!==""})})]}),s(y.Ripple,{type:"submit",color:"primary",block:!0,disabled:m,children:["Sign in ",m&&e(k,{size:"sm",color:"light"})]})]})]})})," ",e(p,{className:"brand-logo align-items-center",to:"/",onClick:a=>a.preventDefault(),children:e("img",{src:M,alt:"",width:"220",className:"mt-0"})})]})]})}export{te as default};
