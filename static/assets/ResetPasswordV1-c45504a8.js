import{r as o,L as s,K as r,B as x,a1 as F,V as S,a2 as y,a3 as k,ac as L}from"./index-3d883fcf.js";import{L as p,l as B,F as d,I as T,d as O,C as R}from"./App-5cbcf20f.js";import{I as u}from"./index-52fee53a.js";import{C as E}from"./Card-592ff91e.js";import{C as I}from"./CardBody-936a8236.js";import{C as D}from"./CardText-1f2d0653.js";import{C as j}from"./CardTitle-59b85a96.js";import{F as z}from"./Form-3f6d3038.js";import{F as V}from"./FormFeedback-59a4f37f.js";import{L as c}from"./Label-80144cb0.js";/* empty css                  */import{T as q}from"./ToastComponent-8641b054.js";const Z=()=>{const[h,f]=o.useState(""),[w,g]=o.useState(""),[m,l]=o.useState(!1),[n,t]=o.useState([]),[C,N]=o.useState([]),b=()=>{l(!0);const e={otp:h,password:w};S.post(`${y}/api/reset/password/complete/`,e,k).then(a=>{console.log("response from server",a),l(!1),L.success(s(q,{title:"Password Reset SuccessFully",color:"success",icon:s(R,{})}),{autoClose:2e3,hideProgressBar:!0,closeButton:!1}),setTimeout(()=>{},1e3)}).catch(a=>{console.log("err",a.response),l(!1),a.response.data.otp?t(i=>i.concat("otp")):a.response.data.password&&(N(a.response.data.password),t(i=>i.concat("password")))})},v=e=>{console.log("Otp "),t([]),f(e.target.value)},P=e=>{t([]),g(e.target.value)};return s("div",{className:"auth-wrapper auth-v1 px-2",children:s("div",{className:"auth-inner py-2",children:s(E,{className:"mb-0",children:r(I,{children:[r(p,{className:"brand-logo d-flex align-items-center ",to:"/",onClick:e=>e.preventDefault(),children:[s("img",{src:B,alt:"",width:"30"}),s("h2",{className:"brand-text text-primary m-0 ml-1",children:"Data Collator"})]}),s(j,{tag:"h4",className:"mb-1",children:"Reset Password ðŸ”’"}),s(D,{className:"mb-2",children:"Your new password must be different from previously used passwords"}),r(z,{className:"auth-reset-password-form mt-2",onSubmit:e=>e.preventDefault(),children:[r(d,{children:[s(c,{className:"form-label",for:"otp",children:"Otp"}),s(T,{type:"number",onChange:v,id:"otp",placeholder:"Enter Otp",autoFocus:!0,invalid:n.includes("otp")})]}),r(d,{children:[s(c,{className:"form-label",for:"password",children:"New Password"}),s(u,{onChange:P,className:"input-group-merge",id:"password",invalid:n.includes("password")}),C.map((e,a)=>s(V,{children:e},a))]}),r(d,{children:[s(c,{className:"form-label",for:"confirm-password",children:"Confirm Password"}),s(u,{className:"input-group-merge",id:"confirm-password",invalid:n.includes("password")})]}),r(x.Ripple,{disabled:m,onClick:()=>b(),type:"button",color:"primary",block:!0,children:["Set New Password Â "," ",m&&s(F,{size:"sm",color:"light"})]})]}),s("p",{className:"text-center mt-2",children:r(p,{to:"/login",children:[s(O,{className:"mr-25",size:14}),s("span",{className:"align-middle",children:"Back to login "})]})})]})})})})};export{Z as default};
