import{r as t,J as o,K as a,U as l,a1 as d,a5 as S}from"./index-a78e1d6d.js";import{A as Y}from"./AppCard-5dd622ab.js";import{a as D}from"./ToastComponent-995c97dd.js";import{C as I}from"./CardBody-d3a746c0.js";import{P as q,k as M,n as z,C as G,Y as Q,V as X}from"./App-efc1b7be.js";import{T as Z}from"./Table-425d6904.js";import{S as ee,A as te}from"./SkeletonComponent-fa92aef4.js";import{U as ae}from"./index-bfeadac6.js";import"./react-paginate-533e7335.js";import{P as se}from"./PaginationComponent-725cecce.js";import{d as oe}from"./getCalenderData-9836b40c.js";import{M as re}from"./ModalForDelete-2d2637c0.js";import{T as ne,a as ce}from"./TooltipControl-f0c53da5.js";import{A as le}from"./AdminButton-84e07a20.js";import"./SingleAsyncPagination-8de520fc.js";import"./AppSideModal-51cfaf1f.js";import"./Card-d18638bb.js";import"./CardTitle-4fff166c.js";import"./Alert-123a8cd6.js";import"./moment-fbc5633a.js";import"./index-b9dfdea5.js";/* empty css                  */function Ae(){t.useState([]),q(),t.useState({content:""}),t.useState([]);const[x,i]=t.useState([]),[T,N]=t.useState([]),[y,b]=t.useState([]),[C,w]=t.useState([]),[k,j]=t.useState([]),[P,r]=t.useState(!1);t.useState(!1);const[de,p]=t.useState(!1),[ie,u]=t.useState(!0);t.useState(!0);const[_,m]=t.useState(!1),[A,h]=t.useState(!1),[E,F]=t.useState(),[f,g]=t.useState(),[U,pe]=t.useState([]),[c,$]=t.useState(!1);t.useState(!1);const[ue,B]=t.useState(),[R,H]=t.useState(!1);t.useState(!1),t.useState(1),t.useState({name:"",project_name:" ",pcd_refsets:[]});const v=()=>{r(!0),l.get(`${d}/api/pcd-projects/`).then(e=>{j(e.data.results),r(!1),i(1),H(!0),w([]);for(let s=0;s<e.data.total_pages;++s)w(n=>n.concat(s+1));N(e.data.page_number+1),b(e.data.page_number-1),e.data.to===e.data.count?(p(!0),u(!1)):e.data.from===1?(p(!1),u(!0)):(p(!1),u(!1))})};t.useEffect(()=>{v()},[]);const J=e=>{r(!0),i(e),l.get(`${d}/api/pcd-projects/?page=${e}`,{AuthHeaders:S}).then(s=>{j(s.data.results),r(!1),r(!1),i(s.data.page_number),N(s.data.page_number+1),b(s.data.page_number-1)}).catch(()=>r(!1))},K=e=>{h(!0),l.delete(`${d}/api/pcd-projects/${E}/`,S).then(s=>{h(!1),m(!1),v()}).catch(s=>{if(h(!1),s.response&&s.response.status===400)for(const[n,L]of Object.entries(s.response.data))D("error",Info,`${z(n)}: ${L}`)})};t.useEffect(()=>{},[]);const O=()=>{const e={project_id:f,source:"pcd_project"};l.post(`${d}/api/exported/`,e,S).then(s=>{D("success",G,"Successfully export")}).catch(s=>{})},V=(e,s,n)=>{e.target.checked?(g(s),$({...c,tester:c})):(g(),U.includes(x)&&g(),$({...c,tester:c}))},W=e=>o(t.Fragment,{children:[a(ne,{target:`delete-${e.id}`,Icon:Q,title:"Edit",navLink:`/project/${e.id}`}),a(ce,{target:`delete-${e}`,Icon:X,title:"Delete",action:()=>{F(e.id),m(!_)}})]});return o(t.Fragment,{children:[o(Y,{children:[o("div",{className:"d-flex align-items-center justify-content-between p-1",children:[a("div",{children:a("h3",{className:"m-0",children:"Project"})}),a("div",{children:a(le,{onClick:O,disabled:!f,children:"Export"})})]}),R?a(ae,{blocking:P,children:k.length?o(Z,{responsive:!0,children:[a("thead",{children:o("tr",{children:[a("th",{className:"text-nowrap",children:a(M,{type:"checkbox",id:"invoice-select-all",label:"",disabled:!0})}),a("th",{scope:"col",className:"text-nowrap",children:"id"}),a("th",{scope:"col",className:"text-nowrap",children:"Name"})," ",a("th",{scope:"col",className:"text-nowrap",children:"total pcd"}),a("th",{scope:"col",className:"text-nowrap",children:"create Date"}),a("th",{scope:"col",className:"text-nowrap text-right",children:"action"})]})}),a("tbody",{children:k.map((e,s)=>o("tr",{children:[a("th",{children:a(M,{type:"checkbox",id:`department-${e.id}-${s}`,checked:f===e.id,onChange:n=>V(n,e.id),disabled:""})}),a("td",{className:"text-nowrap cursor-pointer",children:e.id}),a("td",{className:"text-nowrap cursor-pointer  ",children:e?e.project_name:"---"})," ",a("td",{className:"text-nowrap cursor-pointer  ",children:e?e.total_count:"---"})," ",o("td",{className:"text-nowrap",children:[" ",oe(e.created_at)]}),a("td",{className:"text-right",onClick:()=>B(e.id),children:W(e)})]},s))})]}):a(I,{children:a(te,{color:"danger",msg:"No results found!"})})}):a(I,{children:a(ee,{})}),C.length>1&&a(se,{pageList:C,page:x,next:T,prev:y,paginate:J,isLoading:P})]}),a(re,{isLoading:A,centeredModal:_,setCenteredModal:m,onDelete:K})]})}export{Ae as default};
