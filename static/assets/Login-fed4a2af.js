import{r,a8 as v,H as x,K as s,L as e,c as S,B as y,a1 as k,V as I,a2 as L,a3 as T,ac as d}from"./index-2d311879.js";import{a as F,u as P,F as u,I as B,L as g,C as D,b as R}from"./App-2483e876.js";import{u as j}from"./index.esm-a658b687.js";import{I as E}from"./index-ac663783.js";import{R as H}from"./Row-baaf3703.js";import{C as l}from"./Col-e0c46088.js";import{C as q}from"./CardText-daa5b609.js";import{C as A}from"./CardTitle-7e91e84e.js";import{F as M}from"./Form-214e9b0e.js";import{L as p}from"./Label-a41942c5.js";import{l as _}from"./DataMedicBlack-91b0dd6e.js";import{T as h}from"./ToastComponent-231ab741.js";/* empty css                  */const z="/static/assets/DataMedic-3f438d5c.png";function se(){F(),r.useContext(v),x(),P();const[i,f]=r.useState(""),[n,b]=r.useState(""),[c,t]=r.useState(!1),{register:m,errors:C}=j();return s("div",{className:"auth-wrapper auth-v2",children:[" ",s(H,{className:"auth-inner m-0",children:[" ",e(l,{className:"auth-bg1",lg:"8",sm:"12"})," ",e(l,{className:"d-flex align-items-center auth-bg px-2 p-lg-5",lg:"4",sm:"12",children:s(l,{className:"px-xl-2 mx-auto",sm:"8",md:"6",lg:"12",children:[e("img",{src:_,alt:"",width:"200"}),e(A,{tag:"h3",className:"font-weight-bold mb-1",children:"Welcome to Your Data Collator! ðŸ‘‹"}),e(q,{className:"mb-2",children:"Please sign-in to your account and start the adventure"}),s(M,{className:"auth-login-form mt-2",onSubmit:a=>{const w={email:i,password:n};a.preventDefault(),t(!0),I.post(`${L}/api/signin/`,w,T).then(o=>{t(!1);let N=o.data;localStorage.setItem("company",JSON.stringify(N)),localStorage.setItem("accessToken",o.data.access_token),localStorage.setItem("refreshToken",o.data.refresh_token),d.success(e(h,{title:"Successfully login",color:"success",icon:e(D,{})}),{autoClose:2e3,hideProgressBar:!0,closeButton:!1}),setTimeout(()=>{window.location.assign("/app/dashboard")},1e3)}).catch(o=>{t(!1),t(!1),d.error(e(h,{title:"Either provided credentials are not valid or user is unapproved",color:"danger",icon:e(R,{})}),{autoClose:2e3,hideProgressBar:!0,closeButton:!1})})},children:[s(u,{children:[e(p,{className:"form-label",for:"login-email",children:"Email"}),e(B,{autoFocus:!0,type:"email",value:i,id:"login-email",name:"login-email",placeholder:"john@example.com",onChange:a=>f(a.target.value),className:S({"is-invalid":C["login-email"]}),innerRef:m({required:!0,validate:a=>a!==""})})]}),s(u,{children:[s("div",{className:"d-flex justify-content-between",children:[e(p,{className:"form-label",for:"login-password",children:"Password"}),e(g,{to:"/forgot-password",children:e("small",{children:"Forgot Password?"})})]}),e(E,{value:n,id:"login-password",name:"login-password",className:"input-group-merge",onChange:a=>b(a.target.value),innerRef:m({required:!0,validate:a=>a!==""})})]}),s(y.Ripple,{type:"submit",color:"primary",block:!0,disabled:c,children:["Sign in ",c&&e(k,{size:"sm",color:"light"})]})]})]})})," ",e(g,{className:"brand-logo align-items-center",to:"/",onClick:a=>a.preventDefault(),children:e("img",{src:z,alt:"",width:"220",className:"mt-0"})})]})]})}export{se as default};
